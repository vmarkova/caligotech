{
  "info": {
    "_postman_id": "6a1b4bce-f84e-47eb-8c60-a68fbef9fe03",
    "name": "Jedha",
    "description": "Promotions Management Microservice",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "_postman_id": "8ec2c90b-6751-47bb-b988-bb1e2d35109e",
      "name": "Promo lifecycle",
      "description": "",
      "item": [
        {
          "_postman_id": "df3f8c4b-e93f-4cb3-9384-f099dc151521",
          "name": "Post promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1422a73c-4319-4f86-b97e-f04180d7f535",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const testObject = pm.response.json();",
                  "const promo_id = testObject.id;",
                  "",
                  "pm.test(\"Id check\", function () {",
                  "    pm.expect(testObject.id).to.eql(promo_id);",
                  "});",
                  "",
                  "pm.test(\"Promo contains start date\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const isADate = Object.prototype.toString.call(startDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains end date\", function() {",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const isADate = Object.prototype.toString.call(endDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains budgetId\", function() {",
                  "    const budgetId = testObject.budgetId;",
                  "    const lengthbudgetId = budgetId.length > 0;",
                  "    pm.expect(lengthbudgetId).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains familyCode with 3 digits\", function() {",
                  "    const familyCode = testObject.familyCode;",
                  "    const lengthfamilyCode = familyCode.length == 3;",
                  "    pm.expect(lengthfamilyCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains gs1Databar with more than 25 digits\", function() {",
                  "    const gs1Databar = testObject.gs1Databar;",
                  "    const lengthgs1Databar = gs1Databar.length > 25;",
                  "    pm.expect(lengthgs1Databar).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains title\", function() {",
                  "    const title = testObject.title;",
                  "    const lengthTitle = title.length > 0;",
                  "    pm.expect(lengthTitle).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains text\", function() {",
                  "    const text = testObject.text;",
                  "    const lengthText = text.length > 0;",
                  "    pm.expect(lengthText).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains details\", function() {",
                  "    const details = testObject.details;",
                  "    const lengthDetails = details.length > 0;",
                  "    pm.expect(lengthDetails).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains promo code\", function() {",
                  "    const promoCode = testObject.providerPromotionCode;",
                  "    const lengthPromoCode = promoCode.length > 0;",
                  "    pm.expect(lengthPromoCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains images link\", function() {",
                  "    const images = testObject.images;",
                  "    const lengthimages = images.length > 0;",
                  "    pm.expect(lengthimages).to.eql(true);",
                  "});",
                  "",
                  "var schema = {",
                  "  \"title\" : \"string\",",
                  "  \"providerPromotionCode\" : \"string\",",
                  "  \"text\" : \"string\",",
                  "  \"details\" : \"string\",",
                  "  \"images\" :\"array\",",
                  "  \"rule\" : {",
                  "    \"id\" : null,",
                  "    \"type\" : \"string\",",
                  "    \"condition\" : {",
                  "      \"id\" : null,",
                  "      \"type\" : \"string\",",
                  "      \"mpr\" : 1,",
                  "      \"product\" : {",
                  "        \"upcs\" : \"array\",",
                  "        \"brands\" : [ {",
                  "          \"brand\" : \"string\",",
                  "          \"products\" : [ \"string\" ]",
                  "        } ]",
                  "      }",
                  "    },",
                  "    \"reward\" : {",
                  "      \"type\" : \"string\",",
                  "      \"id\" : null,",
                  "      \"value\" : \"integer\",",
                  "      \"brands\" : [ {",
                  "          \"brand\" : \"string\",",
                  "          \"products\" : \"array\"",
                  "        } ]",
                  "    }",
                  "  },",
                  "  \"startDate\" : \"date\",",
                  "  \"endDate\" : \"date\",",
                  "  \"budgetId\" : \"string\",",
                  "  \"familyCode\" : \"string\",",
                  "  \"gs1Databar\" : \"string\"",
                  "  ",
                  "}",
                  "",
                  "",
                  "pm.test('Schema is valid', function() {",
                  "  pm.expect(tv4.validate(testObject, schema)).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"Get $0.50 on Ivory Body Wash \",\r\n  \"providerPromotionCode\" : \"131240 \",\r\n  \"text\" : \"OFF ONE Ivory Body Wash (21oz or larger) \",\r\n  \"details\" : \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\r\n  \"images\" : [ \"ivory/5b3e8c36d12f85041119ea07.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"075609195594\", \"075609195358\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"DiscountValueReward\",\r\n      \"id\" : null,\r\n      \"value\" : 50,\r\n      \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-01-01T14:00:00\",\r\n  \"endDate\" : \"2018-01-31T14:00:00\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"130\",\r\n  \"gs1Databar\" : \"81101007560913123933001101303170701\"\r\n  \r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "d30451c3-5dcf-4844-8870-2a2fae4aec12",
          "name": "Get  List Promotions",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "078e5dc0-d930-4b12-a662-044f3692817f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const response_json = pm.response.json();",
                  "pm.environment.set(\"promo_id\", response_json.items[0].id);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"title\",\r\n  \"text\" : \"text\",\r\n  \"details\" : \"details\",\r\n  \"images\" : [ \"promotions/1.png\", \"promotions/2.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : 123,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-09-22\",\r\n  \"endDate\" : \"2018-12-22\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"999\",\r\n  \"gs1Databar\" : \"811098235223534534\",\r\n  \"providerData\" : {\"key\": \"value\"}\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions"
          },
          "response": []
        },
        {
          "_postman_id": "f4fbcef9-b91d-4c44-8613-1a698501c12e",
          "name": "Get  Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ab9fb098-b03e-4350-9e06-5468a36fff5b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const testObject = pm.response.json();",
                  "",
                  "pm.test(\"Promo contains start date\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const isADate = Object.prototype.toString.call(startDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains end date\", function() {",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const isADate = Object.prototype.toString.call(endDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains budgetId\", function() {",
                  "    const budgetId = testObject.budgetId;",
                  "    const lengthbudgetId = budgetId.length > 0;",
                  "    pm.expect(lengthbudgetId).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains familyCode with 3 digits\", function() {",
                  "    const familyCode = testObject.familyCode;",
                  "    const lengthfamilyCode = familyCode.length == 3;",
                  "    pm.expect(lengthfamilyCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains gs1Databar with more than 25 digits\", function() {",
                  "    const gs1Databar = testObject.gs1Databar;",
                  "    const lengthgs1Databar = gs1Databar.length > 25;",
                  "    pm.expect(lengthgs1Databar).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains title\", function() {",
                  "    const title = testObject.title;",
                  "    const lengthTitle = title.length > 0;",
                  "    pm.expect(lengthTitle).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains id\", function() {",
                  "    const id = testObject.id;",
                  "    const lengthId = id.length > 0;",
                  "    pm.expect(lengthId).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains details\", function() {",
                  "    const details = testObject.details;",
                  "    const lengthDetails = details.length > 0;",
                  "    pm.expect(lengthDetails).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains promo code\", function() {",
                  "    const promoCode = testObject.providerPromotionCode;",
                  "    const lengthPromoCode = promoCode.length > 0;",
                  "    pm.expect(lengthPromoCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains images link\", function() {",
                  "    const images = testObject.images;",
                  "    const lengthimages = images.length > 0;",
                  "    pm.expect(lengthimages).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains modifiedBy\", function() {",
                  "    const modifiedBy = testObject.modifiedBy;",
                  "    const lengthmodifiedBy = modifiedBy.length > 0;",
                  "    pm.expect(lengthmodifiedBy).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains modifiedOn\", function() {",
                  "    const modifiedOnRaw = testObject.modifiedOn;",
                  "    const modifiedOn = new Date(modifiedOnRaw*1000);",
                  "    const isADate =  Object.prototype.toString.call(modifiedOn) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains status\", function() {",
                  "    const status = testObject.status;",
                  "    const lengthstatus = status.length > 0;",
                  "    pm.expect(lengthstatus).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Is start date before end date in promotion\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const startDateBeforeEnd = startDate.getTime() < endDate.getTime();",
                  "    pm.expect(startDateBeforeEnd).to.eql(true);",
                  "});",
                  "",
                  "",
                  "",
                  "var schema = {",
                  "    \"items\": [{",
                  "        \"brands\": [{",
                  "            \"brand\": \"string\",",
                  "            \"products\": \"array\",",
                  "        }],",
                  "        \"budgetId\": \"string\",",
                  "        \"details\": \"string\",",
                  "        \"endDate\": \"date\",",
                  "        \"familyCode\": \"string\",",
                  "        \"gs1Databar\": \"string\",",
                  "        \"id\": \"string\",",
                  "        \"images\": \"array\",",
                  "        \"mfrId\": \"string\",",
                  "        \"modifiedBy\": \"string\",",
                  "        \"modifiedOn\": 0,",
                  "        \"providerData\": \"string\",",
                  "        \"providerPromotionCode\": \"string\",",
                  "        \"rule\": \"object\",",
                  "        \"startDate\": \"date\",",
                  "        \"status\": \"string\",",
                  "        \"text\": \"string\",",
                  "        \"timezone\": {",
                  "            \"id\": \"string\",",
                  "            \"rules\": {",
                  "                \"fixedOffset\": \"boolean\",",
                  "                \"transitionRules\": \"array\",",
                  "                \"transitions\": \"array\"",
                  "            }",
                  "        },",
                  "        \"title\": \"string\"",
                  "    }]",
                  "}",
                  "",
                  "",
                  "pm.test('Schema is valid', function() {",
                  "    pm.expect(tv4.validate(testObject, schema)).to.be.true;",
                  "",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"title\",\r\n  \"text\" : \"text\",\r\n  \"details\" : \"details\",\r\n  \"images\" : [ \"promotions/1.png\", \"promotions/2.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : 123,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-09-22\",\r\n  \"endDate\" : \"2018-12-22\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"999\",\r\n  \"gs1Databar\" : \"811098235223534534\",\r\n  \"providerData\" : {\"key\": \"value\"}\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "da94e83f-92a2-4673-9ac5-89d9b1cac1eb",
          "name": "Add Campaign to the Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a15269c2-14da-4f33-b4b0-557be9616aae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const testObject = pm.response.json();",
                  "pm.environment.set(\"camp_id\", testObject.id);",
                  "",
                  "//const camp_id = testObject.id;",
                  "",
                  "pm.test(\"Promo contains campaign Id\", function() {",
                  "    const id = testObject.id;",
                  "    const lengthid = id.length > 0;",
                  "    pm.expect(lengthid).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains start date\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const isADate = Object.prototype.toString.call(startDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains end date\", function() {",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const isADate = Object.prototype.toString.call(endDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains clipByDate\", function() {",
                  "    const clipByDate = new Date(testObject.clipByDate);",
                  "    const isADate = Object.prototype.toString.call(clipByDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "/*pm.test(\"Is clip date before end date in promotion\", function() {",
                  "    const clipByDate = new Date(testObject.clipByDate);",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const clipDateBeforeEnd = clipByDate.getTime() <= endDate.getTime();",
                  "    pm.expect(clipDateBeforeEnd).to.eql(true);",
                  "});*/",
                  "",
                  "pm.test(\"Promotion Id check\", function () {",
                  "    pm.expect(testObject.promotionId).to.eql(promo_id);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Promo contains modifiedBy\", function() {",
                  "    const modifiedBy = testObject.modifiedBy;",
                  "    const lengthmodifiedBy = modifiedBy.length > 0;",
                  "    pm.expect(lengthmodifiedBy).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains modifiedOn\", function() {",
                  "    const modifiedOnRaw = testObject.modifiedOn;",
                  "    const modifiedOn = new Date(modifiedOnRaw*1000);",
                  "    const isADate =  Object.prototype.toString.call(modifiedOn) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains status\", function() {",
                  "    const status = testObject.status;",
                  "    const lengthstatus = status.length > 0;",
                  "    pm.expect(lengthstatus).to.eql(true);",
                  "});",
                  "",
                  "var schema = {",
                  "  \"clipByDate\": \"date\",",
                  "  \"endDate\": \"date\",",
                  "  \"id\": \"string\",",
                  "  \"modifiedBy\": \"string\",",
                  "  \"modifiedOn\": 0,",
                  "  \"overrides\": {",
                  "    \"details\": \"string\",",
                  "    \"images\": \"array\",",
                  "    \"rule\": {",
                  "      \"id\": 0",
                  "    },",
                  "    \"text\": \"string\",",
                  "    \"title\": \"string\"",
                  "  },",
                  "  \"promotionId\": \"string\",",
                  "  \"retailerProfileId\": \"string\",",
                  "  \"startDate\": \"date\",",
                  "  \"status\": \"string\",",
                  "  \"timezone\": \"string\"",
                  "}",
                  "",
                  "pm.test('Schema is valid', function() {",
                  "  pm.expect(tv4.validate(testObject, schema)).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n \"clipByDate\": \"2019-01-01T14:00:00\",\n \"endDate\": \"2019-01-01T14:00:00\",\n \"overrides\": {\n   \"details\": \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\n   \"images\": [\n     \"Gain laundry detergent/5b6b6bd4d12f8512623c2e8b.png\"\n   ],\n   \"rule\": {\n     \"id\": 0,\"type\": \"SingleRule\"\n   },\n   \"text\": \"Get $0.50 OFF Gain\",\n   \"title\": \"When buy Two Gain laundry detergent\"\n },\n \"retailerProfileId\": \"3\",\n \"startDate\": \"2019-01-01T14:00:00\"\n   }"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/"
          },
          "response": []
        },
        {
          "_postman_id": "a9c45bbb-2f63-44ce-be41-54e56095102a",
          "name": "Publish Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a1e4da9d-da2b-4087-90b8-57ae3f085246",
                "type": "text/javascript",
                "exec": [
                  "",
                  "pm.test(\"Successful POST request\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200,201,202,204]);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "campaignIds",
                "value": "camp_id "
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"campaignIds\": [\r\n\t\"{{camp_id}}\"\r\n   ]\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/publish/",
            "description": "Publish Promotion"
          },
          "response": []
        },
        {
          "_postman_id": "e6d32cf0-7ff4-46dd-a74d-e2bb7070cb86",
          "name": "Create/update campaigns in bulk",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b6fc135f-d459-432e-a199-690fba278912",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Successful POST request\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([201,202,204]);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n \"items\": [\n     {\n \"clipByDate\": \"2019-01-01T14:00:00\",\n \"endDate\": \"2019-01-01T14:00:00\",\n \"overrides\": {\n   \"details\": \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\n   \"images\": [\n     \"Gain laundry detergent/5b6b6bd4d12f8512623c2e8b.png\"\n   ],\n   \"rule\": {\n     \"id\": 0,\"type\": \"SingleRule\"\n   },\n   \"text\": \"Get $0.50 OFF Gain\",\n   \"title\": \"When buy Two Gain laundry detergent\"\n },\n \"retailerProfileId\": \"3\",\n \"startDate\": \"2019-01-01T14:00:00\"\n   }\n ]\n}\n\n"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/bulk/campaigns/update"
          },
          "response": []
        },
        {
          "_postman_id": "c4afc978-70cf-4e3b-bc98-6e95d153d393",
          "name": "Publish Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ac134f37-3dd1-4247-9493-d0d02dcaf74d",
                "type": "text/javascript",
                "exec": [
                  "",
                  "pm.test(\"Successful POST request\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([201,202,204]);",
                  "});"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "08040ef1-4b96-4f9a-98dd-833bce277d7a",
                "type": "text/javascript",
                "exec": [
                  ""
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/publish/",
            "description": "Publish Campaign"
          },
          "response": []
        },
        {
          "_postman_id": "6a0ec12b-877e-4e49-8d40-61adabb8631f",
          "name": "Update promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b0d15164-3693-4876-8d9d-e2293e7345fc",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"Get ONE Cascadian Farm Cinnamon Crunch Cereal Free\",\r\n  \"providerPromotionCode\" : \"111310 \",\r\n  \"text\" : \"When you buy TWO Cinnamon Crunch Cereal\",\r\n  \"details\" : \"Void if altered, copied, sold, purchased, transferred, exchanged or where prohibited or restricted by law. One coupon per purchase of specified product(s). Good only in USA, APOs & FPOs. CONSUMER: No other coupon may be used with this coupon. Consumer pays any sales tax. RETAILER: General Mills will reimburse you the face value of this coupon plus handling if submitted in compliance with our redemption policy. Copy available upon request. Cash value 1/100 cent. Send to GENERAL MILLS 8, NCH Marketing Services, P.O. Box 880001, El Paso TX 88588-0001 or an authorized clearinghouse.\",\r\n  \"images\" : [ \"Cascadian/5b3e9e81d12f85041119ea09.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"1800000001\",\"1800000011\",\"1800000094\",\"1800000105\",\"1800000107\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"Cascadian Farm\u00a0\",\r\n          \"products\" : [ \"Cinnamon Crunch Cereald\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"1800000001\",\"1800000011\",\"1800000094\",\"1800000105\",\"1800000107\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"Cascadian Farm\",\r\n          \"products\" : [ \"Cinnamon Crunch Cereal\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2019-01-01T14:00:00\",\r\n  \"endDate\" : \"2019-01-01T14:00:00\",\r\n  \"budgetId\" : \"12345\",\r\n  \"familyCode\" : \"412\",\r\n  \"gs1Databar\" : \"811010021908110785310011062090000\"\r\n  \r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}",
            "description": "Modify a promotion"
          },
          "response": []
        },
        {
          "_postman_id": "530da57e-e463-4bcd-a193-af3d25d3f126",
          "name": "Get  Campaigns for promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a3bf5b0d-99b5-4656-9cbe-1d055ac4eccc",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"title\",\r\n  \"text\" : \"text\",\r\n  \"details\" : \"details\",\r\n  \"images\" : [ \"promotions/1.png\", \"promotions/2.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : 123,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-09-22\",\r\n  \"endDate\" : \"2018-12-22\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"999\",\r\n  \"gs1Databar\" : \"811098235223534534\",\r\n  \"providerData\" : {\"key\": \"value\"}\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/"
          },
          "response": []
        },
        {
          "_postman_id": "124d4013-572d-44e3-a78e-38e2ad017f92",
          "name": "Get Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d000a137-8460-4901-bee1-2f1685940188",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "3b08ab03-90f2-4bb3-992c-1dd65af15a04",
          "name": "Get Campaign (no promo id)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "18e6bb0b-0c42-4919-b6de-5d5bd14e6a64",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/campaigns/{{camp_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "383b5ba0-3f90-49f6-b8e7-0f868ffe2768",
          "name": "Update Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "34593ce3-a934-4416-8a3e-449b9795cf8d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n   \"clipByDate\": \"2019-01-30T14:00:00\",\r\n      \"endDate\": \"2019-01-30T14:00:00\",\r\n           \"overrides\": {\r\n        \"details\": \"Detail345345s\",\r\n        \"images\": [\r\n          \"Cascadian/5b3e9e81d12f85041119ea09.png\"\r\n        ],\r\n        \"rule\": {\r\n          \"id\": 0,\"type\": \"SingleRule\"\r\n        },\r\n        \"text\": \"text\",\r\n        \"title\": \"title\"\r\n      },\r\n      \"retailerProfileId\": \"1\",\r\n      \"startDate\": \"2019-01-01T14:00:00\"\r\n      \r\n     \r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}",
            "description": "Update Campaign"
          },
          "response": []
        },
        {
          "_postman_id": "434b749f-a752-4cf8-b5ac-ffcc7e4a0061",
          "name": "Accept changes for Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "61fe0d87-237d-476d-8356-687ed622172b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/accept_changes"
          },
          "response": []
        },
        {
          "_postman_id": "608996c6-453b-4bd5-9224-8ebc438a98c6",
          "name": "Pause Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "52a9e167-24a4-4de6-a0ce-a06d69d58ab0",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/pause"
          },
          "response": []
        },
        {
          "_postman_id": "96b48d70-c44d-4a5b-b5f1-efd7cfa549c2",
          "name": "Delte campaigns in bulk",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bf780fb1-77d5-49bd-9225-68940b6400fe",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"clipByDate\": \"2018-08-13T19:35:08.181Z\",\n      \"endDate\": \"2018-08-13T19:35:08.181Z\",\n      \"id\": \"string\",\n      \"overrides\": {\n        \"details\": \"string\",\n        \"images\": [\n          \"string\"\n        ],\n        \"rule\": {\n          \"id\": 0\n        },\n        \"text\": \"string\",\n        \"title\": \"string\"\n      },\n      \"retailerProfileId\": \"string\",\n      \"startDate\": \"2018-08-13T19:35:08.181Z\",\n      \"timezone\": \"string\"\n    }\n  ]\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/bulk/campaigns/delete"
          },
          "response": []
        },
        {
          "_postman_id": "4ea345cb-655c-4909-ae33-c7c966fde5bd",
          "name": "Reject changes for Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e83cb239-9fdb-4047-ba38-6a473311b289",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/reject"
          },
          "response": []
        },
        {
          "_postman_id": "7decf78d-8369-48db-a580-2afa7b65c8eb",
          "name": "Void the Campaign ",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "87715677-afa7-4ebd-8338-31e649d97a4e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/void"
          },
          "response": []
        },
        {
          "_postman_id": "6b761879-b180-4585-97bd-ce8f6448ba2e",
          "name": "Resume Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "321bc7ad-aabb-4d39-a579-a3ba6ab10757",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/un-pause"
          },
          "response": []
        },
        {
          "_postman_id": "0aff4616-a2b7-4b8d-8327-7dfaaa101fa7",
          "name": "Pause the Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3e0a9575-aba0-4308-94d0-5eafa9f7f2f5",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/pause"
          },
          "response": []
        },
        {
          "_postman_id": "bc72a381-91e2-49f4-adf1-0d317bb6cd98",
          "name": "Disable the Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "11ef313c-a4b4-4d36-8d3d-76054e612999",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/status/void"
          },
          "response": []
        },
        {
          "_postman_id": "e8a06753-f7a0-469e-8c5b-3c88ae1f57ba",
          "name": "Resume the Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "076832e4-40d2-4101-8613-67056822c7c8",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/un-pause"
          },
          "response": []
        },
        {
          "_postman_id": "06da3d0a-c0d8-4dc5-8dcc-7af6783daa4c",
          "name": "Delete Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7bd7e90c-2ea8-4950-b02a-41cfba837082",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "29f557f3-a178-445a-973d-1b9f95ab89c4",
          "name": "Delete prom",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "90dba702-ba8e-4c5b-acaa-d7b1d4738afb",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 204\", function () {",
                  "    pm.response.to.have.status(204);",
                  "});",
                  "",
                  "pm.globals.unset(\"id\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "a8a470c9-fd27-4315-964c-885c9dce019c",
      "name": "Post promotion requests",
      "description": "Post promotion request (no matter type)",
      "item": [
        {
          "_postman_id": "f90299f4-ab49-4381-b246-04b64f3082f0",
          "name": "Post promotion (Cents OFF)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ede19e00-4e55-430a-8739-2f6e6a49d794",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "var jsonData = pm.response.json();",
                  "",
                  "",
                  "",
                  "//pm.globals.set(\"promo_id\", jsonData.id);",
                  "",
                  "",
                  "pm.test(\"Promo_id\",  function () {",
                  "    promo_id=jsonData.id;",
                  "   console.log(\"Our promo id\", promo_id);",
                  "});",
                  "",
                  "",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"Get $0.50 on Ivory Body Wash \",\r\n  \"providerPromotionCode\" : \"131240 \",\r\n  \"text\" : \"OFF ONE Ivory Body Wash (21oz or larger) \",\r\n  \"details\" : \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\r\n  \"images\" : [ \"ivory/5b3e8c36d12f85041119ea07.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"075609195594\", \"075609195358\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"DiscountValueReward\",\r\n      \"id\" : null,\r\n      \"value\" : 50,\r\n      \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-01-01T14:00:00\",\r\n  \"endDate\" : \"2018-01-31T14:00:00\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"130\",\r\n  \"gs1Databar\" : \"81101007560913123933001101303170701\"\r\n  \r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "60720e59-be14-479b-83a7-eeb941430bdc",
          "name": "Post promotion BXGY",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c1533eb7-e53f-4317-ba8a-68a4ae38bf35",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "var jsonData = pm.response.json();",
                  "",
                  "pm.globals.set(\"id\", jsonData.id);",
                  "",
                  "",
                  "",
                  "pm.test(\"Promo_id\", function () {",
                  "    pm.expect(jsonData.id).to.eql(pm.globals.get(\"id\"))",
                  "});",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"Get Two L\u00c4RABAR Apple Pie FREE\",\r\n  \"providerPromotionCode\" : \"110785 \",\r\n  \"text\" : \"When you buy Three L\u00c4RABAR Banana Bread\",\r\n  \"details\" : \"Void if altered, copied, sold, purchased, transferred, exchanged or where prohibited or restricted by law. One coupon per purchase of specified product(s). Good only in USA, APOs & FPOs. CONSUMER: No other coupon may be used with this coupon. Consumer pays any sales tax. RETAILER: General Mills will reimburse you the face value of this coupon plus handling if submitted in compliance with our redemption policy. Copy available upon request. Cash value 1/100 cent. Send to GENERAL MILLS 8, NCH Marketing Services, P.O. Box 880001, El Paso TX 88588-0001 or an authorized clearinghouse.\",\r\n  \"images\" : [ \"larabar/5b3e9c79d12f85041119ea08.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 3,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"021908402529\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"L\u00c4RABAR\",\r\n          \"products\" : [ \"Banana Bread\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"021908423142\u00a0\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"L\u00c4RABAR\",\r\n          \"products\" : [ \"Apple Pie\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2019-01-01T14:00:00\",\r\n  \"endDate\" : \"2019-01-31T14:00:00\",\r\n  \"budgetId\" : \"123\",\r\n  \"familyCode\" : \"620\",\r\n  \"gs1Databar\" : \"811010021908110785310011062090000\"\r\n  \r\n}"
            },
            "url": {
              "raw": "http://qa-apps.caligotech.com:8188/promotions?bxgy_id={{id}}",
              "protocol": "http",
              "host": [
                "qa-apps",
                "caligotech",
                "com"
              ],
              "port": "8188",
              "path": [
                "promotions"
              ],
              "query": [
                {
                  "key": "bxgy_id",
                  "value": "{{id}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "_postman_id": "a3bec48a-4eda-4817-b627-edea009b4983",
          "name": "Post promotion BXGX",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4629bd92-5429-4b6d-9f2c-2fe6d1a9d0da",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  " var jsonData = pm.response.json();",
                  "",
                  "",
                  "pm.globals.set(\"id\", jsonData.id);",
                  "pm.test(\"Promo_id\", function () {",
                  "    pm.expect(jsonData.id).to.eql(pm.globals.get(\"id\"))",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"Get ONE Cascadian Farm Cinnamon Crunch Cereal Free\",\r\n  \"providerPromotionCode\" : \"111307 \",\r\n  \"text\" : \"When you buy TWO Cinnamon Crunch Cereal\",\r\n  \"details\" : \"Void if altered, copied, sold, purchased, transferred, exchanged or where prohibited or restricted by law. One coupon per purchase of specified product(s). Good only in USA, APOs & FPOs. CONSUMER: No other coupon may be used with this coupon. Consumer pays any sales tax. RETAILER: General Mills will reimburse you the face value of this coupon plus handling if submitted in compliance with our redemption policy. Copy available upon request. Cash value 1/100 cent. Send to GENERAL MILLS 8, NCH Marketing Services, P.O. Box 880001, El Paso TX 88588-0001 or an authorized clearinghouse.\",\r\n  \"images\" : [ \"Cascadian/5b3e9e81d12f85041119ea09.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"1800000001\",\"1800000011\",\"1800000094\",\"1800000105\",\"1800000107\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"Cascadian Farm\u00a0\",\r\n          \"products\" : [ \"Cinnamon Crunch Cereald\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"1800000001\",\"1800000011\",\"1800000094\",\"1800000105\",\"1800000107\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"Cascadian Farm\",\r\n          \"products\" : [ \"Cinnamon Crunch Cereal\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2019-01-01T14:00:00\",\r\n  \"endDate\" : \"2019-01-31T14:00:00\",\r\n  \"budgetId\" : \"123\",\r\n  \"familyCode\" : \"411\",\r\n  \"gs1Databar\" : \"811010021908110785310011062090000\"\r\n  \r\n}"
            },
            "url": {
              "raw": "http://qa-apps.caligotech.com:8188/promotions?id={{id}}",
              "protocol": "http",
              "host": [
                "qa-apps",
                "caligotech",
                "com"
              ],
              "port": "8188",
              "path": [
                "promotions"
              ],
              "query": [
                {
                  "key": "id",
                  "value": "{{id}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "_postman_id": "19be493b-a75c-46cc-b42d-3472eddd7c35",
          "name": "Post promotion Basket OFF",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8d4a70c3-7a3e-4ab2-bce3-d44bda0f115c",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  " var jsonData = pm.response.json();",
                  "",
                  "pm.globals.set(\"id\", jsonData.id);",
                  "",
                  "pm.test(\"Promo_id\", function () {",
                  "    pm.expect(jsonData.id).to.eql(pm.globals.get(\"id\"))",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"title\",\r\n  \"text\" : \"text\",\r\n  \"details\" : \"details\",\r\n  \"images\" : [ \"promotion/5b61e579d12f8512623c2e7a.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2019-01-01T14:00:00\",\r\n  \"endDate\" : \"2019-01-31T14:00:00\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"familyCode\",\r\n  \"gs1Databar\" : \"gs1Databar\"\r\n  \r\n}"
            },
            "url": {
              "raw": "http://qa-apps.caligotech.com:8188/promotions?id={{id}}",
              "protocol": "http",
              "host": [
                "qa-apps",
                "caligotech",
                "com"
              ],
              "port": "8188",
              "path": [
                "promotions"
              ],
              "query": [
                {
                  "key": "id",
                  "value": "{{id}}",
                  "equals": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "_postman_id": "98843e07-215a-4b19-b51e-6938aca33929",
          "name": "Post Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7f37e914-21b9-44a1-8223-9591413fa989",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const promotion = pm.response.json();",
                  "pm.globals.set(\"promo_id\", promotion.id);",
                  "postman.setNextRequest('Get Promotion');",
                  "// tests from get promotion - validation."
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"Get $0.50 on Ivory Body Wash \",\r\n  \"providerPromotionCode\" : \"131240 \",\r\n  \"text\" : \"OFF ONE Ivory Body Wash (21oz or larger) \",\r\n  \"details\" : \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\r\n  \"images\" : [ \"ivory/5b3e8c36d12f85041119ea07.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"075609195594\", \"075609195358\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"DiscountValueReward\",\r\n      \"id\" : null,\r\n      \"value\" : 50,\r\n      \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-01-01T14:00:00\",\r\n  \"endDate\" : \"2018-01-31T14:00:00\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"130\",\r\n  \"gs1Databar\" : \"81101007560913123933001101303170701\"\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "a85d9486-b767-4a92-a60b-d09521093be5",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "0fb6dbd6-6ba5-470b-892d-3294274883fc",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "var jsonData = pm.response.json();",
              "",
              "",
              "",
              "//pm.globals.set(\"promo_id\", jsonData.id);",
              "",
              "",
              "pm.test(\"Promo_id\",  function () {",
              "    promo_id=jsonData.id;",
              "   console.log(\"Our promo id\", promo_id);",
              "});"
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "d0385130-508d-4c49-84b0-0c7109f60fdc",
      "name": "POST requests",
      "description": "",
      "item": [
        {
          "_postman_id": "509af88c-ec78-449c-b6fd-b85313c6871b",
          "name": "Post promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1422a73c-4319-4f86-b97e-f04180d7f535",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const testObject = pm.response.json();",
                  "const promo_id = testObject.id;",
                  "",
                  "pm.test(\"Id check\", function () {",
                  "    pm.expect(testObject.id).to.eql(promo_id);",
                  "});",
                  "",
                  "pm.test(\"Promo contains start date\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const isADate = Object.prototype.toString.call(startDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains end date\", function() {",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const isADate = Object.prototype.toString.call(endDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains budgetId\", function() {",
                  "    const budgetId = testObject.budgetId;",
                  "    const lengthbudgetId = budgetId.length > 0;",
                  "    pm.expect(lengthbudgetId).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains familyCode with 3 digits\", function() {",
                  "    const familyCode = testObject.familyCode;",
                  "    const lengthfamilyCode = familyCode.length == 3;",
                  "    pm.expect(lengthfamilyCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains gs1Databar with more than 25 digits\", function() {",
                  "    const gs1Databar = testObject.gs1Databar;",
                  "    const lengthgs1Databar = gs1Databar.length > 25;",
                  "    pm.expect(lengthgs1Databar).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains title\", function() {",
                  "    const title = testObject.title;",
                  "    const lengthTitle = title.length > 0;",
                  "    pm.expect(lengthTitle).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains text\", function() {",
                  "    const text = testObject.text;",
                  "    const lengthText = text.length > 0;",
                  "    pm.expect(lengthText).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains details\", function() {",
                  "    const details = testObject.details;",
                  "    const lengthDetails = details.length > 0;",
                  "    pm.expect(lengthDetails).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains promo code\", function() {",
                  "    const promoCode = testObject.providerPromotionCode;",
                  "    const lengthPromoCode = promoCode.length > 0;",
                  "    pm.expect(lengthPromoCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains images link\", function() {",
                  "    const images = testObject.images;",
                  "    const lengthimages = images.length > 0;",
                  "    pm.expect(lengthimages).to.eql(true);",
                  "});",
                  "",
                  "var schema = {",
                  "  \"title\" : \"string\",",
                  "  \"providerPromotionCode\" : \"string\",",
                  "  \"text\" : \"string\",",
                  "  \"details\" : \"string\",",
                  "  \"images\" :\"array\",",
                  "  \"rule\" : {",
                  "    \"id\" : null,",
                  "    \"type\" : \"string\",",
                  "    \"condition\" : {",
                  "      \"id\" : null,",
                  "      \"type\" : \"string\",",
                  "      \"mpr\" : 1,",
                  "      \"product\" : {",
                  "        \"upcs\" : \"array\",",
                  "        \"brands\" : [ {",
                  "          \"brand\" : \"string\",",
                  "          \"products\" : [ \"string\" ]",
                  "        } ]",
                  "      }",
                  "    },",
                  "    \"reward\" : {",
                  "      \"type\" : \"string\",",
                  "      \"id\" : null,",
                  "      \"value\" : \"integer\",",
                  "      \"brands\" : [ {",
                  "          \"brand\" : \"string\",",
                  "          \"products\" : \"array\"",
                  "        } ]",
                  "    }",
                  "  },",
                  "  \"startDate\" : \"date\",",
                  "  \"endDate\" : \"date\",",
                  "  \"budgetId\" : \"string\",",
                  "  \"familyCode\" : \"string\",",
                  "  \"gs1Databar\" : \"string\"",
                  "  ",
                  "}",
                  "",
                  "",
                  "pm.test('Schema is valid', function() {",
                  "  pm.expect(tv4.validate(testObject, schema)).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"Get $0.50 on Ivory Body Wash \",\r\n  \"providerPromotionCode\" : \"131240 \",\r\n  \"text\" : \"OFF ONE Ivory Body Wash (21oz or larger) \",\r\n  \"details\" : \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\r\n  \"images\" : [ \"ivory/5b3e8c36d12f85041119ea07.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"075609195594\", \"075609195358\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"DiscountValueReward\",\r\n      \"id\" : null,\r\n      \"value\" : 50,\r\n      \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-01-01T14:00:00\",\r\n  \"endDate\" : \"2018-01-31T14:00:00\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"130\",\r\n  \"gs1Databar\" : \"81101007560913123933001101303170701\"\r\n  \r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "fc74a8fe-49d8-407b-9c29-77c4c2511922",
          "name": "Create/update campaigns in bulk",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "490307bb-4a07-4987-bfa6-d031838caf99",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Successful POST request\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([201,202,204]);",
                  "});",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n \"items\": [\n     {\n \"clipByDate\": \"2019-01-01T14:00:00\",\n \"endDate\": \"2019-01-01T14:00:00\",\n \"overrides\": {\n   \"details\": \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\n   \"images\": [\n     \"Gain laundry detergent/5b6b6bd4d12f8512623c2e8b.png\"\n   ],\n   \"rule\": {\n     \"id\": 0,\"type\": \"SingleRule\"\n   },\n   \"text\": \"Get $0.50 OFF Gain\",\n   \"title\": \"When buy Two Gain laundry detergent\"\n },\n \"retailerProfileId\": \"3\",\n \"startDate\": \"2019-01-01T14:00:00\"\n   }\n ]\n}\n\n"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/bulk/campaigns/update"
          },
          "response": []
        },
        {
          "_postman_id": "39f1fdd5-52ec-4282-b11e-591aad3fcc66",
          "name": "Update Campaigns in bulk",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bbc7b773-1580-4c73-a3a8-ccb35f30529d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"items\": [\r\n    {\r\n      \"clipByDate\": \"2018-01-31T14:00:00\",\r\n      \"endDate\": \"2018-01-31T14:00:00\",\r\n      \"id\": \"5b4e5313d12f8521c2dedfcd\",\r\n      \"overrides\": {\r\n        \"details\": \"Details\",\r\n        \"images\": [\r\n          \"Cascadian/5b3e9e81d12f85041119ea09.png\"\r\n        ],\r\n        \"rule\": {\r\n          \"id\": 0,\"type\":\"SingleRule\"\r\n        },\r\n        \"text\": \"text\",\r\n        \"title\": \"title\"\r\n      },\r\n      \"retailerProfileId\": \"1\",\r\n      \"startDate\": \"2018-01-01T14:00:00\"\r\n    }\r\n  ]\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/5b47d6fed12f8501f57ed7a4/bulk/campaigns/update"
          },
          "response": []
        },
        {
          "_postman_id": "b0f5bbaa-e228-4ef5-842a-d4cf3846034a",
          "name": "Add Campaign to the Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a15269c2-14da-4f33-b4b0-557be9616aae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const testObject = pm.response.json();",
                  "pm.environment.set(\"camp_id\", testObject.id);",
                  "",
                  "//const camp_id = testObject.id;",
                  "",
                  "pm.test(\"Promo contains campaign Id\", function() {",
                  "    const id = testObject.id;",
                  "    const lengthid = id.length > 0;",
                  "    pm.expect(lengthid).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains start date\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const isADate = Object.prototype.toString.call(startDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains end date\", function() {",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const isADate = Object.prototype.toString.call(endDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains clipByDate\", function() {",
                  "    const clipByDate = new Date(testObject.clipByDate);",
                  "    const isADate = Object.prototype.toString.call(clipByDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "/*pm.test(\"Is clip date before end date in promotion\", function() {",
                  "    const clipByDate = new Date(testObject.clipByDate);",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const clipDateBeforeEnd = clipByDate.getTime() <= endDate.getTime();",
                  "    pm.expect(clipDateBeforeEnd).to.eql(true);",
                  "});*/",
                  "",
                  "pm.test(\"Promotion Id check\", function () {",
                  "    pm.expect(testObject.promotionId).to.eql(promo_id);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Promo contains modifiedBy\", function() {",
                  "    const modifiedBy = testObject.modifiedBy;",
                  "    const lengthmodifiedBy = modifiedBy.length > 0;",
                  "    pm.expect(lengthmodifiedBy).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains modifiedOn\", function() {",
                  "    const modifiedOnRaw = testObject.modifiedOn;",
                  "    const modifiedOn = new Date(modifiedOnRaw*1000);",
                  "    const isADate =  Object.prototype.toString.call(modifiedOn) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains status\", function() {",
                  "    const status = testObject.status;",
                  "    const lengthstatus = status.length > 0;",
                  "    pm.expect(lengthstatus).to.eql(true);",
                  "});",
                  "",
                  "var schema = {",
                  "  \"clipByDate\": \"date\",",
                  "  \"endDate\": \"date\",",
                  "  \"id\": \"string\",",
                  "  \"modifiedBy\": \"string\",",
                  "  \"modifiedOn\": 0,",
                  "  \"overrides\": {",
                  "    \"details\": \"string\",",
                  "    \"images\": \"array\",",
                  "    \"rule\": {",
                  "      \"id\": 0",
                  "    },",
                  "    \"text\": \"string\",",
                  "    \"title\": \"string\"",
                  "  },",
                  "  \"promotionId\": \"string\",",
                  "  \"retailerProfileId\": \"string\",",
                  "  \"startDate\": \"date\",",
                  "  \"status\": \"string\",",
                  "  \"timezone\": \"string\"",
                  "}",
                  "",
                  "pm.test('Schema is valid', function() {",
                  "  pm.expect(tv4.validate(testObject, schema)).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n \"clipByDate\": \"2019-01-01T14:00:00\",\n \"endDate\": \"2019-01-01T14:00:00\",\n \"overrides\": {\n   \"details\": \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\n   \"images\": [\n     \"Gain laundry detergent/5b6b6bd4d12f8512623c2e8b.png\"\n   ],\n   \"rule\": {\n     \"id\": 0,\"type\": \"SingleRule\"\n   },\n   \"text\": \"Get $0.50 OFF Gain\",\n   \"title\": \"When buy Two Gain laundry detergent\"\n },\n \"retailerProfileId\": \"3\",\n \"startDate\": \"2019-01-01T14:00:00\"\n   }"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/"
          },
          "response": []
        },
        {
          "_postman_id": "bd3f6464-0f4a-4654-9d85-4ada70a791ac",
          "name": "Accept changes for Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "61fe0d87-237d-476d-8356-687ed622172b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/accept_changes"
          },
          "response": []
        },
        {
          "_postman_id": "a77d1213-08c4-41cb-be5a-201bba9d28a4",
          "name": "Pause Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "52a9e167-24a4-4de6-a0ce-a06d69d58ab0",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/pause"
          },
          "response": []
        },
        {
          "_postman_id": "b5e3f220-fd55-4a46-a165-8db89a24c8e0",
          "name": "Publish Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ac134f37-3dd1-4247-9493-d0d02dcaf74d",
                "type": "text/javascript",
                "exec": [
                  "",
                  "pm.test(\"Successful POST request\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([201,202,204]);",
                  "});"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "08040ef1-4b96-4f9a-98dd-833bce277d7a",
                "type": "text/javascript",
                "exec": [
                  ""
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/publish/",
            "description": "Publish Campaign"
          },
          "response": []
        },
        {
          "_postman_id": "6c47db80-c666-4eb3-8cd3-15ac0b91c450",
          "name": "Reject changes for Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e83cb239-9fdb-4047-ba38-6a473311b289",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/reject"
          },
          "response": []
        },
        {
          "_postman_id": "0e754eaf-6021-4bef-880b-9d34dc65f458",
          "name": "Resume Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "321bc7ad-aabb-4d39-a579-a3ba6ab10757",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/un-pause"
          },
          "response": []
        },
        {
          "_postman_id": "23488c27-8c75-48fc-9413-104205c46b6d",
          "name": "Void the Campaign ",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "87715677-afa7-4ebd-8338-31e649d97a4e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}/void"
          },
          "response": []
        },
        {
          "_postman_id": "c726952a-e887-42fc-b39a-ecbf4fbb0b09",
          "name": "Pause the Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3e0a9575-aba0-4308-94d0-5eafa9f7f2f5",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/pause"
          },
          "response": []
        },
        {
          "_postman_id": "011573cc-0ae8-4c95-84d0-36c711eb6197",
          "name": "Publish Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a1e4da9d-da2b-4087-90b8-57ae3f085246",
                "type": "text/javascript",
                "exec": [
                  "",
                  "pm.test(\"Successful POST request\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200,201,202,204]);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "campaignIds",
                "value": "camp_id "
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"campaignIds\": [\r\n\t\"{{camp_id}}\"\r\n   ]\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/publish/"
          },
          "response": []
        },
        {
          "_postman_id": "59f6960d-4719-4af1-9c18-b8ead316a11a",
          "name": "Disable the Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "11ef313c-a4b4-4d36-8d3d-76054e612999",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/status/void"
          },
          "response": []
        },
        {
          "_postman_id": "323f1272-29b5-458d-8f0c-7d38fbbc7b34",
          "name": "Resume the Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "076832e4-40d2-4101-8613-67056822c7c8",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/un-pause"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "292f9f74-e4b2-4811-82bf-0af4500e8ade",
      "name": "GET requests",
      "description": "",
      "item": [
        {
          "_postman_id": "a4d00da1-1637-497e-bb7f-192c9f9b8c52",
          "name": "Get  Promotions",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c0a25675-772b-49b5-8864-b9858cad1c5f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"title\",\r\n  \"text\" : \"text\",\r\n  \"details\" : \"details\",\r\n  \"images\" : [ \"promotions/1.png\", \"promotions/2.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : 123,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-09-22\",\r\n  \"endDate\" : \"2018-12-22\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"999\",\r\n  \"gs1Databar\" : \"811098235223534534\",\r\n  \"providerData\" : {\"key\": \"value\"}\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/"
          },
          "response": []
        },
        {
          "_postman_id": "a9adfcf2-e0e4-4dfd-8222-ca2136b2de48",
          "name": "Get  Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ab9fb098-b03e-4350-9e06-5468a36fff5b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const testObject = pm.response.json();",
                  "",
                  "pm.test(\"Promo contains start date\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const isADate = Object.prototype.toString.call(startDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains end date\", function() {",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const isADate = Object.prototype.toString.call(endDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains budgetId\", function() {",
                  "    const budgetId = testObject.budgetId;",
                  "    const lengthbudgetId = budgetId.length > 0;",
                  "    pm.expect(lengthbudgetId).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains familyCode with 3 digits\", function() {",
                  "    const familyCode = testObject.familyCode;",
                  "    const lengthfamilyCode = familyCode.length == 3;",
                  "    pm.expect(lengthfamilyCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains gs1Databar with more than 25 digits\", function() {",
                  "    const gs1Databar = testObject.gs1Databar;",
                  "    const lengthgs1Databar = gs1Databar.length > 25;",
                  "    pm.expect(lengthgs1Databar).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains title\", function() {",
                  "    const title = testObject.title;",
                  "    const lengthTitle = title.length > 0;",
                  "    pm.expect(lengthTitle).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains id\", function() {",
                  "    const id = testObject.id;",
                  "    const lengthId = id.length > 0;",
                  "    pm.expect(lengthId).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains details\", function() {",
                  "    const details = testObject.details;",
                  "    const lengthDetails = details.length > 0;",
                  "    pm.expect(lengthDetails).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains promo code\", function() {",
                  "    const promoCode = testObject.providerPromotionCode;",
                  "    const lengthPromoCode = promoCode.length > 0;",
                  "    pm.expect(lengthPromoCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains images link\", function() {",
                  "    const images = testObject.images;",
                  "    const lengthimages = images.length > 0;",
                  "    pm.expect(lengthimages).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains modifiedBy\", function() {",
                  "    const modifiedBy = testObject.modifiedBy;",
                  "    const lengthmodifiedBy = modifiedBy.length > 0;",
                  "    pm.expect(lengthmodifiedBy).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains modifiedOn\", function() {",
                  "    const modifiedOnRaw = testObject.modifiedOn;",
                  "    const modifiedOn = new Date(modifiedOnRaw*1000);",
                  "    const isADate =  Object.prototype.toString.call(modifiedOn) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains status\", function() {",
                  "    const status = testObject.status;",
                  "    const lengthstatus = status.length > 0;",
                  "    pm.expect(lengthstatus).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Is start date before end date in promotion\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const startDateBeforeEnd = startDate.getTime() < endDate.getTime();",
                  "    pm.expect(startDateBeforeEnd).to.eql(true);",
                  "});",
                  "",
                  "",
                  "",
                  "var schema = {",
                  "    \"items\": [{",
                  "        \"brands\": [{",
                  "            \"brand\": \"string\",",
                  "            \"products\": \"array\",",
                  "        }],",
                  "        \"budgetId\": \"string\",",
                  "        \"details\": \"string\",",
                  "        \"endDate\": \"date\",",
                  "        \"familyCode\": \"string\",",
                  "        \"gs1Databar\": \"string\",",
                  "        \"id\": \"string\",",
                  "        \"images\": \"array\",",
                  "        \"mfrId\": \"string\",",
                  "        \"modifiedBy\": \"string\",",
                  "        \"modifiedOn\": 0,",
                  "        \"providerData\": \"string\",",
                  "        \"providerPromotionCode\": \"string\",",
                  "        \"rule\": \"object\",",
                  "        \"startDate\": \"date\",",
                  "        \"status\": \"string\",",
                  "        \"text\": \"string\",",
                  "        \"timezone\": {",
                  "            \"id\": \"string\",",
                  "            \"rules\": {",
                  "                \"fixedOffset\": \"boolean\",",
                  "                \"transitionRules\": \"array\",",
                  "                \"transitions\": \"array\"",
                  "            }",
                  "        },",
                  "        \"title\": \"string\"",
                  "    }]",
                  "}",
                  "",
                  "",
                  "pm.test('Schema is valid', function() {",
                  "    pm.expect(tv4.validate(testObject, schema)).to.be.true;",
                  "",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"title\",\r\n  \"text\" : \"text\",\r\n  \"details\" : \"details\",\r\n  \"images\" : [ \"promotions/1.png\", \"promotions/2.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : 123,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-09-22\",\r\n  \"endDate\" : \"2018-12-22\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"999\",\r\n  \"gs1Databar\" : \"811098235223534534\",\r\n  \"providerData\" : {\"key\": \"value\"}\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "a1881853-a1d6-424f-83eb-3e254a9dca90",
          "name": "Get  Campaigns for promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a3bf5b0d-99b5-4656-9cbe-1d055ac4eccc",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"title\",\r\n  \"text\" : \"text\",\r\n  \"details\" : \"details\",\r\n  \"images\" : [ \"promotions/1.png\", \"promotions/2.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : 123,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-09-22\",\r\n  \"endDate\" : \"2018-12-22\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"999\",\r\n  \"gs1Databar\" : \"811098235223534534\",\r\n  \"providerData\" : {\"key\": \"value\"}\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/"
          },
          "response": []
        },
        {
          "_postman_id": "87c66cdd-295a-4e70-95a3-4184d91cc794",
          "name": "Get Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d000a137-8460-4901-bee1-2f1685940188",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "6d1e5a27-644b-425e-affb-bd5d9e2ec592",
          "name": "Get Campaign (no promo id)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "18e6bb0b-0c42-4919-b6de-5d5bd14e6a64",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "body": {},
            "url": "http://qa-apps.caligotech.com:8188/promotions/campaigns/{{camp_id}}"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "b48c55ab-82ae-4472-8764-0fee2d680a79",
      "name": "DELETE requests",
      "description": "",
      "item": [
        {
          "_postman_id": "dfd48320-2378-4501-9a5f-91486b24735d",
          "name": "Delete prom",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4f8de77f-4cb7-473e-b235-f27ff0ea3d23",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 204\", function () {",
                  "    pm.response.to.have.status(204);",
                  "});",
                  "",
                  "pm.globals.unset(\"promo_id\");",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "54970b10-5ad8-466b-af51-13d7f4ef0279",
          "name": "Delete Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7bd7e90c-2ea8-4950-b02a-41cfba837082",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/{{camp_id}}"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "844346d9-f36b-4f84-803f-ab78ff2047d7",
      "name": "UPDATE requests",
      "description": "",
      "item": [
        {
          "_postman_id": "6321c4fb-b7af-4e03-8d5b-1c434d7473fc",
          "name": "Update promotion",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"Get ONE Cascadian Farm Cinnamon Crunch Cereal Free\",\r\n  \"providerPromotionCode\" : \"111310 \",\r\n  \"text\" : \"When you buy TWO Cinnamon Crunch Cereal\",\r\n  \"details\" : \"Void if altered, copied, sold, purchased, transferred, exchanged or where prohibited or restricted by law. One coupon per purchase of specified product(s). Good only in USA, APOs & FPOs. CONSUMER: No other coupon may be used with this coupon. Consumer pays any sales tax. RETAILER: General Mills will reimburse you the face value of this coupon plus handling if submitted in compliance with our redemption policy. Copy available upon request. Cash value 1/100 cent. Send to GENERAL MILLS 8, NCH Marketing Services, P.O. Box 880001, El Paso TX 88588-0001 or an authorized clearinghouse.\",\r\n  \"images\" : [ \"Cascadian/5b3e9e81d12f85041119ea09.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"1800000001\",\"1800000011\",\"1800000094\",\"1800000105\",\"1800000107\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"Cascadian Farm\u00a0\",\r\n          \"products\" : [ \"Cinnamon Crunch Cereald\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"1800000001\",\"1800000011\",\"1800000094\",\"1800000105\",\"1800000107\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"Cascadian Farm\",\r\n          \"products\" : [ \"Cinnamon Crunch Cereal\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2019-01-01T14:00:00\",\r\n  \"endDate\" : \"2019-01-01T14:00:00\",\r\n  \"budgetId\" : \"12345\",\r\n  \"familyCode\" : \"412\",\r\n  \"gs1Databar\" : \"811010021908110785310011062090000\"\r\n  \r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/5b47dbb2d12f8501f57ed7a5"
          },
          "response": []
        },
        {
          "_postman_id": "9d00c62b-ca12-42bd-9317-0b5cff9317f7",
          "name": "Update Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "34593ce3-a934-4416-8a3e-449b9795cf8d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n   \"clipByDate\": \"2019-01-30T14:00:00\",\r\n      \"endDate\": \"2019-01-30T14:00:00\",\r\n           \"overrides\": {\r\n        \"details\": \"Details\",\r\n        \"images\": [\r\n          \"Cascadian/5b3e9e81d12f85041119ea09.png\"\r\n        ],\r\n        \"rule\": {\r\n          \"id\": 0,\"type\": \"SingleRule\"\r\n        },\r\n        \"text\": \"text\",\r\n        \"title\": \"title\"\r\n      },\r\n      \"retailerProfileId\": \"1\",\r\n      \"startDate\": \"2019-01-01T14:00:00\"\r\n      \r\n     \r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/5b47dbb2d12f8501f57ed7a5/campaigns/5b47dc4dd12f8501f57ed7b2",
            "description": "Update Campaign"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "d7017b85-c0b0-4bd4-9874-463eb9bb0afc",
      "name": "TC-1 Publish DRAFT promo with S campaign",
      "description": "Publish DRAFT promotion with single campaign ",
      "item": [
        {
          "_postman_id": "f4f553d7-44d4-4a48-8d50-5cdd2578ce5a",
          "name": "Post promotion Copy",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1422a73c-4319-4f86-b97e-f04180d7f535",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const testObject = pm.response.json();",
                  "const promo_id = testObject.id;",
                  "",
                  "pm.test(\"Id check\", function () {",
                  "    pm.expect(testObject.id).to.eql(promo_id);",
                  "});",
                  "",
                  "pm.test(\"Promo contains start date\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const isADate = Object.prototype.toString.call(startDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains end date\", function() {",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const isADate = Object.prototype.toString.call(endDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains budgetId\", function() {",
                  "    const budgetId = testObject.budgetId;",
                  "    const lengthbudgetId = budgetId.length > 0;",
                  "    pm.expect(lengthbudgetId).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains familyCode with 3 digits\", function() {",
                  "    const familyCode = testObject.familyCode;",
                  "    const lengthfamilyCode = familyCode.length == 3;",
                  "    pm.expect(lengthfamilyCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains gs1Databar with more than 25 digits\", function() {",
                  "    const gs1Databar = testObject.gs1Databar;",
                  "    const lengthgs1Databar = gs1Databar.length > 25;",
                  "    pm.expect(lengthgs1Databar).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains title\", function() {",
                  "    const title = testObject.title;",
                  "    const lengthTitle = title.length > 0;",
                  "    pm.expect(lengthTitle).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains text\", function() {",
                  "    const text = testObject.text;",
                  "    const lengthText = text.length > 0;",
                  "    pm.expect(lengthText).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains details\", function() {",
                  "    const details = testObject.details;",
                  "    const lengthDetails = details.length > 0;",
                  "    pm.expect(lengthDetails).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains promo code\", function() {",
                  "    const promoCode = testObject.providerPromotionCode;",
                  "    const lengthPromoCode = promoCode.length > 0;",
                  "    pm.expect(lengthPromoCode).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains images link\", function() {",
                  "    const images = testObject.images;",
                  "    const lengthimages = images.length > 0;",
                  "    pm.expect(lengthimages).to.eql(true);",
                  "});",
                  "",
                  "var schema = {",
                  "  \"title\" : \"string\",",
                  "  \"providerPromotionCode\" : \"string\",",
                  "  \"text\" : \"string\",",
                  "  \"details\" : \"string\",",
                  "  \"images\" :\"array\",",
                  "  \"rule\" : {",
                  "    \"id\" : null,",
                  "    \"type\" : \"string\",",
                  "    \"condition\" : {",
                  "      \"id\" : null,",
                  "      \"type\" : \"string\",",
                  "      \"mpr\" : 1,",
                  "      \"product\" : {",
                  "        \"upcs\" : \"array\",",
                  "        \"brands\" : [ {",
                  "          \"brand\" : \"string\",",
                  "          \"products\" : [ \"string\" ]",
                  "        } ]",
                  "      }",
                  "    },",
                  "    \"reward\" : {",
                  "      \"type\" : \"string\",",
                  "      \"id\" : null,",
                  "      \"value\" : \"integer\",",
                  "      \"brands\" : [ {",
                  "          \"brand\" : \"string\",",
                  "          \"products\" : \"array\"",
                  "        } ]",
                  "    }",
                  "  },",
                  "  \"startDate\" : \"date\",",
                  "  \"endDate\" : \"date\",",
                  "  \"budgetId\" : \"string\",",
                  "  \"familyCode\" : \"string\",",
                  "  \"gs1Databar\" : \"string\"",
                  "  ",
                  "}",
                  "",
                  "",
                  "pm.test('Schema is valid', function() {",
                  "  pm.expect(tv4.validate(testObject, schema)).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\" : \"Get $0.50 on Ivory Body Wash \",\r\n  \"providerPromotionCode\" : \"131240 \",\r\n  \"text\" : \"OFF ONE Ivory Body Wash (21oz or larger) \",\r\n  \"details\" : \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\r\n  \"images\" : [ \"ivory/5b3e8c36d12f85041119ea07.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"075609195594\", \"075609195358\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"DiscountValueReward\",\r\n      \"id\" : null,\r\n      \"value\" : 50,\r\n      \"brands\" : [ {\r\n          \"brand\" : \"1\",\r\n          \"products\" : [ \"12\" ]\r\n        } ]\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-01-01T14:00:00\",\r\n  \"endDate\" : \"2018-01-31T14:00:00\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"130\",\r\n  \"gs1Databar\" : \"81101007560913123933001101303170701\"\r\n  \r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}"
          },
          "response": []
        },
        {
          "_postman_id": "47bbdb7d-c098-4aec-b68c-91cedf538caa",
          "name": "Add Campaign to the Promotion Copy",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a15269c2-14da-4f33-b4b0-557be9616aae",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const testObject = pm.response.json();",
                  "pm.environment.set(\"camp_id\", testObject.id);",
                  "",
                  "//const camp_id = testObject.id;",
                  "",
                  "pm.test(\"Promo contains campaign Id\", function() {",
                  "    const id = testObject.id;",
                  "    const lengthid = id.length > 0;",
                  "    pm.expect(lengthid).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains start date\", function() {",
                  "    const startDate = new Date(testObject.startDate);",
                  "    const isADate = Object.prototype.toString.call(startDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains end date\", function() {",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const isADate = Object.prototype.toString.call(endDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains clipByDate\", function() {",
                  "    const clipByDate = new Date(testObject.clipByDate);",
                  "    const isADate = Object.prototype.toString.call(clipByDate) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "/*pm.test(\"Is clip date before end date in promotion\", function() {",
                  "    const clipByDate = new Date(testObject.clipByDate);",
                  "    const endDate = new Date(testObject.endDate);",
                  "    const clipDateBeforeEnd = clipByDate.getTime() <= endDate.getTime();",
                  "    pm.expect(clipDateBeforeEnd).to.eql(true);",
                  "});*/",
                  "",
                  "pm.test(\"Promotion Id check\", function () {",
                  "    pm.expect(testObject.promotionId).to.eql(promo_id);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Promo contains modifiedBy\", function() {",
                  "    const modifiedBy = testObject.modifiedBy;",
                  "    const lengthmodifiedBy = modifiedBy.length > 0;",
                  "    pm.expect(lengthmodifiedBy).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains modifiedOn\", function() {",
                  "    const modifiedOnRaw = testObject.modifiedOn;",
                  "    const modifiedOn = new Date(modifiedOnRaw*1000);",
                  "    const isADate =  Object.prototype.toString.call(modifiedOn) === '[object Date]';",
                  "    pm.expect(isADate).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Promo contains status\", function() {",
                  "    const status = testObject.status;",
                  "    const lengthstatus = status.length > 0;",
                  "    pm.expect(lengthstatus).to.eql(true);",
                  "});",
                  "",
                  "var schema = {",
                  "  \"clipByDate\": \"date\",",
                  "  \"endDate\": \"date\",",
                  "  \"id\": \"string\",",
                  "  \"modifiedBy\": \"string\",",
                  "  \"modifiedOn\": 0,",
                  "  \"overrides\": {",
                  "    \"details\": \"string\",",
                  "    \"images\": \"array\",",
                  "    \"rule\": {",
                  "      \"id\": 0",
                  "    },",
                  "    \"text\": \"string\",",
                  "    \"title\": \"string\"",
                  "  },",
                  "  \"promotionId\": \"string\",",
                  "  \"retailerProfileId\": \"string\",",
                  "  \"startDate\": \"date\",",
                  "  \"status\": \"string\",",
                  "  \"timezone\": \"string\"",
                  "}",
                  "",
                  "pm.test('Schema is valid', function() {",
                  "  pm.expect(tv4.validate(testObject, schema)).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n \"clipByDate\": \"2019-01-01T14:00:00\",\n \"endDate\": \"2019-01-01T14:00:00\",\n \"overrides\": {\n   \"details\": \"Dealer: Submission to Procter & Gamble signifies compliance with 'Requirements for Proper Coupon Redemption.' Please visit this link for coupon terms for proper redemption: http://www.pg.com/en_US/downloads/partners_suppliers/PG_Coupon_Terms_of_Proper_Redemption.pdf. Limit of one coupon per item. Consumer: Limit ONE coupon per purchase of products and quantities stated. Any other use constitutes fraud. Coupons are not authorized if purchasing products for resale. You may pay sales tax. Not valid in Puerto Rico.\",\n   \"images\": [\n     \"Gain laundry detergent/5b6b6bd4d12f8512623c2e8b.png\"\n   ],\n   \"rule\": {\n     \"id\": 0,\"type\": \"SingleRule\"\n   },\n   \"text\": \"Get $0.50 OFF Gain\",\n   \"title\": \"When buy Two Gain laundry detergent\"\n },\n \"retailerProfileId\": \"3\",\n \"startDate\": \"2019-01-01T14:00:00\"\n   }"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/campaigns/"
          },
          "response": []
        },
        {
          "_postman_id": "c0450ba0-0090-4897-8498-70c97be2c2dd",
          "name": "Publish Promotion Copy",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a1e4da9d-da2b-4087-90b8-57ae3f085246",
                "type": "text/javascript",
                "exec": [
                  "",
                  "pm.test(\"Successful POST request\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200,201,202,204]);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "campaignIds",
                "value": "camp_id "
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"campaignIds\": [\r\n\t\"{{camp_id}}\"\r\n   ]\r\n}"
            },
            "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}/publish/",
            "description": "Publish Promotion"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "39962f86-1fcd-478f-bf95-6fb2683d71f4",
      "name": "Get  Promotions",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "c0a25675-772b-49b5-8864-b9858cad1c5f",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ]
          }
        }
      ],
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"title\" : \"title\",\r\n  \"text\" : \"text\",\r\n  \"details\" : \"details\",\r\n  \"images\" : [ \"promotions/1.png\", \"promotions/2.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : 123,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-09-22\",\r\n  \"endDate\" : \"2018-12-22\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"999\",\r\n  \"gs1Databar\" : \"811098235223534534\",\r\n  \"providerData\" : {\"key\": \"value\"}\r\n}"
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/"
      },
      "response": []
    },
    {
      "_postman_id": "ac4001d3-f441-418f-8710-d72316e02899",
      "name": "Delete prom",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "4f8de77f-4cb7-473e-b235-f27ff0ea3d23",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 204\", function () {",
              "    pm.response.to.have.status(204);",
              "});",
              "",
              "pm.globals.unset(\"promo_id\");",
              ""
            ]
          }
        }
      ],
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "DELETE",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": ""
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/{{promo_id}}"
      },
      "response": []
    },
    {
      "_postman_id": "2827a5e9-cfdc-4719-8849-81a04dafa177",
      "name": "Delete Campaigns in bulk",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "31d455e3-bca5-4460-983e-558b394ea490",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ],
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"items\": [\r\n    \"string\"\r\n  ]\r\n}"
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b43d8d7d12f8529501fc4c7/bulk/campaigns/delete"
      },
      "response": []
    },
    {
      "_postman_id": "dda29a37-9d64-4f9c-8bfc-1476e2c18282",
      "name": "Get  Campaigns",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "a3bf5b0d-99b5-4656-9cbe-1d055ac4eccc",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ]
          }
        }
      ],
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"title\" : \"title\",\r\n  \"text\" : \"text\",\r\n  \"details\" : \"details\",\r\n  \"images\" : [ \"promotions/1.png\", \"promotions/2.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : 123,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"123\", \"456\", \"789\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"brand_1\",\r\n          \"products\" : [ \"product_1\", \"product_2\" ]\r\n        }, {\r\n          \"brand\" : \"brand_2\",\r\n          \"products\" : [ \"product_3\", \"product_4\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2018-09-22\",\r\n  \"endDate\" : \"2018-12-22\",\r\n  \"budgetId\" : \"budget_id_1\",\r\n  \"familyCode\" : \"999\",\r\n  \"gs1Databar\" : \"811098235223534534\",\r\n  \"providerData\" : {\"key\": \"value\"}\r\n}"
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b47d6fed12f8501f57ed7a4/campaigns/"
      },
      "response": []
    },
    {
      "_postman_id": "50100657-a2bc-4816-ae39-9984134129b5",
      "name": "Delete Campaign",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "7bd7e90c-2ea8-4950-b02a-41cfba837082",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ]
          }
        }
      ],
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "DELETE",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": ""
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b47dbb2d12f8501f57ed7a5/campaigns/5b47dc4dd12f8501f57ed7a8"
      },
      "response": []
    },
    {
      "_postman_id": "9bd0d2a9-d495-4646-b4e8-5ac5f7e49d56",
      "name": "Update promotion",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"title\" : \"Get ONE Cascadian Farm Cinnamon Crunch Cereal Free\",\r\n  \"providerPromotionCode\" : \"111310 \",\r\n  \"text\" : \"When you buy TWO Cinnamon Crunch Cereal\",\r\n  \"details\" : \"Void if altered, copied, sold, purchased, transferred, exchanged or where prohibited or restricted by law. One coupon per purchase of specified product(s). Good only in USA, APOs & FPOs. CONSUMER: No other coupon may be used with this coupon. Consumer pays any sales tax. RETAILER: General Mills will reimburse you the face value of this coupon plus handling if submitted in compliance with our redemption policy. Copy available upon request. Cash value 1/100 cent. Send to GENERAL MILLS 8, NCH Marketing Services, P.O. Box 880001, El Paso TX 88588-0001 or an authorized clearinghouse.\",\r\n  \"images\" : [ \"Cascadian/5b3e9e81d12f85041119ea09.png\" ],\r\n  \"rule\" : {\r\n    \"id\" : null,\r\n    \"type\" : \"SingleRule\",\r\n    \"condition\" : {\r\n      \"id\" : null,\r\n      \"type\" : \"BuyProductCondition\",\r\n      \"mpr\" : 2,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"1800000001\",\"1800000011\",\"1800000094\",\"1800000105\",\"1800000107\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"Cascadian Farm\u00a0\",\r\n          \"products\" : [ \"Cinnamon Crunch Cereald\" ]\r\n        } ]\r\n      }\r\n    },\r\n    \"reward\" : {\r\n      \"type\" : \"FreeProductReward\",\r\n      \"id\" : null,\r\n      \"quantity\" : 1,\r\n      \"product\" : {\r\n        \"upcs\" : [ \"1800000001\",\"1800000011\",\"1800000094\",\"1800000105\",\"1800000107\" ],\r\n        \"brands\" : [ {\r\n          \"brand\" : \"Cascadian Farm\",\r\n          \"products\" : [ \"Cinnamon Crunch Cereal\" ]\r\n        } ]\r\n      }\r\n    }\r\n  },\r\n  \"startDate\" : \"2019-01-01T14:00:00\",\r\n  \"endDate\" : \"2019-01-01T14:00:00\",\r\n  \"budgetId\" : \"12345\",\r\n  \"familyCode\" : \"412\",\r\n  \"gs1Databar\" : \"811010021908110785310011062090000\"\r\n  \r\n}"
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b47dbb2d12f8501f57ed7a5",
        "description": "Modify a promotion"
      },
      "response": []
    },
    {
      "_postman_id": "4a3a0618-a4e9-408a-8959-699b8deb1a45",
      "name": "Update Campaigns in bulk",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "bbc7b773-1580-4c73-a3a8-ccb35f30529d",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ]
          }
        }
      ],
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"items\": [\r\n    {\r\n      \"clipByDate\": \"2018-01-31T14:00:00\",\r\n      \"endDate\": \"2018-01-31T14:00:00\",\r\n      \"id\": \"5b4e5313d12f8521c2dedfcd\",\r\n      \"overrides\": {\r\n        \"details\": \"Details\",\r\n        \"images\": [\r\n          \"Cascadian/5b3e9e81d12f85041119ea09.png\"\r\n        ],\r\n        \"rule\": {\r\n          \"id\": 0,\"type\":\"SingleRule\"\r\n        },\r\n        \"text\": \"text\",\r\n        \"title\": \"title\"\r\n      },\r\n      \"retailerProfileId\": \"1\",\r\n      \"startDate\": \"2018-01-01T14:00:00\"\r\n    }\r\n  ]\r\n}"
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b47d6fed12f8501f57ed7a4/bulk/campaigns/update"
      },
      "response": []
    },
    {
      "_postman_id": "6fdd4738-7c57-4d6a-b226-1217e9d8f170",
      "name": "Update Campaign",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "34593ce3-a934-4416-8a3e-449b9795cf8d",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ]
          }
        }
      ],
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n   \"clipByDate\": \"2019-01-30T14:00:00\",\r\n      \"endDate\": \"2019-01-30T14:00:00\",\r\n           \"overrides\": {\r\n        \"details\": \"Detail345345s\",\r\n        \"images\": [\r\n          \"Cascadian/5b3e9e81d12f85041119ea09.png\"\r\n        ],\r\n        \"rule\": {\r\n          \"id\": 0,\"type\": \"SingleRule\"\r\n        },\r\n        \"text\": \"text\",\r\n        \"title\": \"title\"\r\n      },\r\n      \"retailerProfileId\": \"1\",\r\n      \"startDate\": \"2019-01-01T14:00:00\"\r\n      \r\n     \r\n}"
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b47dbb2d12f8501f57ed7a5/campaigns/5b47dc4dd12f8501f57ed7b2",
        "description": "Update Campaign"
      },
      "response": []
    },
    {
      "_postman_id": "a0331427-efa6-4bc7-9ba0-c64adfc0fcfe",
      "name": "Add Campiagn to the Promotion ",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "c15eaa2a-8ee0-437c-a043-b750c956b857",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"clipByDate\": \"2019-01-01T14:00:00\",\r\n  \"endDate\": \"2019-01-01T14:00:00\",\r\n  \"overrides\": {\r\n    \"details\": \"details\",\r\n    \"images\": [\r\n      \"promotion/5b5645a7d12f856083a47218.png\"\r\n    ],\r\n    \"rule\": {\r\n      \"id\": 0,\"type\": \"SingleRule\"\r\n    },\r\n    \"text\": \"text\",\r\n    \"title\": \"title\"\r\n  },\r\n  \"retailerProfileId\": \"3\",\r\n  \"startDate\": \"2019-01-01T14:00:00\"\r\n}"
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b6ddb36d12f857a85415116/campaigns/",
        "description": "Post Campaign"
      },
      "response": []
    },
    {
      "_postman_id": "097d2442-7498-43ef-b1fd-c631b0184b0e",
      "name": "Add Campiagn to the Promotion  Copy",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "c15eaa2a-8ee0-437c-a043-b750c956b857",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"clipByDate\": \"2019-01-01T14:00:00\",\r\n  \"endDate\": \"2019-01-01T14:00:00\",\r\n  \"overrides\": {\r\n    \"details\": \"details\",\r\n    \"images\": [\r\n      \"promotion/5b5645a7d12f856083a47218.png\"\r\n    ],\r\n    \"rule\": {\r\n      \"id\": 0,\"type\": \"SingleRule\"\r\n    },\r\n    \"text\": \"text\",\r\n    \"title\": \"title\"\r\n  },\r\n  \"retailerProfileId\": \"3\",\r\n  \"startDate\": \"2019-01-01T14:00:00\"\r\n}"
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b648c38d12f851fe2d7c4da/campaigns/",
        "description": "Post Campaign"
      },
      "response": []
    },
    {
      "_postman_id": "f8a54043-58bd-4549-b7ae-8aeb4793a9b3",
      "name": "Publish Campiagn",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "8d34b341-9e3c-4b18-8e02-c700a2ae9796",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": ""
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b47d6fed12f8501f57ed7a4/campaigns/5b4e5313d12f8521c2dedfcf/publish",
        "description": "Publish Campaign"
      },
      "response": []
    },
    {
      "_postman_id": "b8a38c31-d430-405c-ab02-d6fc6b4b7273",
      "name": "Publish Promotion",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "32184f2a-7806-4f65-9451-7a4757eaeeee",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"campaignIds\": [\r\n    \"5b4d1a49d12f851c22fd3022\"\r\n  ]\r\n}"
        },
        "url": "http://qa-apps.caligotech.com:8188/promotions/5b6ddb36d12f857a85415116/publish",
        "description": "Publish Promotion"
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "27ae713f-7633-4765-add9-525137e80b06",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "bd312908-837a-4932-8fad-00ab42937c37",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "id": "78bbeeb8-391e-4421-9096-fcb575514291",
      "key": "promo_id",
      "value": "",
      "type": "string",
      "description": ""
    },
    {
      "id": "f5aa3a07-a2ee-4cc3-adf5-3d17f332f4a2",
      "key": "camp_id",
      "value": "",
      "type": "string",
      "description": ""
    }
  ]
}